<!Doctype html>
<html>
<head>
	<title>Employee Profile</title>
</head>
<body>
<script>
			
	
				
				
	var a,b;
	var interval;
	var c = null;
	var xhttp = new XMLHttpRequest();
	xhttp.onreadystatechange = function()
	{
    	if (this.readyState == 4 && this.status == 200) 
		{
			a = xhttp.responseText;
			data = JSON.parse(a);
			b = data["Items"]
			console.log(b);
			console.log(b[0])
			c = data["Count"];

			
		}
	};
	xhttp.open("GET", "https://mzywtvwyu0.execute-api.ap-southeast-1.amazonaws.com/test/upload", true); 
   	xhttp.send();
		
	interval = setInterval("getResult()", 70);
	document.write("<h1>loading... Please wait!!!</h1>");
	function getResult()
	{
 	if(c != null)
		{
		interval = clearInterval(interval);
			//alert(c); 
			looptable(c,b);
			
		}
	}				
				
var value1 = null;
var value2;
function looptable(value1 , value2)
	{
		document.write("<table border='solid 2px;' style='font-size:30px;'>");
	document.write("<thead><tr>");
		document.write("<th><label style='color:green;'>username</label></th>");
				document.write("<th><label style='color:green;'>email </label></th>");
				document.write("<th><label style='color:green;'>phone</label></th>");
				document.write("<th><label style='color:green;'>post</label></th>");
			
	document.write("</tr>");	
		document.write("</thead>");	
	document.write("<tbody>");	
		
		for(var i =0; i<value1; i++)
		{
			document.write("<tr>");
			for(var k=1; k<=4; k++)
				{
					if(k==1)
						document.write("<td>"+value2[i]["username"]+"</td>");
					else if(k==2)
						document.write("<td>"+value2[i]["email"]+"</td>");
					else if(k==3)
						document.write("<td>"+value2[i]["phone"]+"</td>");
					else	
						document.write("<td>"+value2[i]["post"]+"</td>");
				}
			document.write("</tr>"); 
		}	
	}
	
</script>
	</tbody>
</table>
</body>
</html>